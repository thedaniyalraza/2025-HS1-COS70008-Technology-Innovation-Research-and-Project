{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\draza\\\\classforge\\\\classforge-frontend\\\\src\\\\pages\\\\Allocation.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport ForceGraph2D from \"react-force-graph-2d\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Allocation = () => {\n  _s();\n  const [graphData, setGraphData] = useState({\n    nodes: [],\n    links: []\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await fetch(\"http://localhost:8000/students\");\n        const students = await res.json();\n        const nodes = students.map(s => ({\n          id: s.name,\n          group: s.studentClass,\n          academic: s.academic,\n          wellbeing: s.wellbeing\n        }));\n        const nodeIds = new Set(nodes.map(n => n.id));\n        const links = [];\n        students.forEach(s => {\n          const from = s.name;\n          if (s.friends) {\n            s.friends.split(\",\").forEach(f => {\n              const target = f.trim();\n              if (nodeIds.has(target)) {\n                links.push({\n                  source: from,\n                  target,\n                  type: \"friend\"\n                });\n              }\n            });\n          }\n          if (s.disrespectful) {\n            s.disrespectful.split(\",\").forEach(d => {\n              const target = d.trim();\n              if (nodeIds.has(target)) {\n                links.push({\n                  source: from,\n                  target,\n                  type: \"disrespect\"\n                });\n              }\n            });\n          }\n        });\n        setGraphData({\n          nodes,\n          links\n        });\n      } catch (err) {\n        console.error(\"Failed to load graph data:\", err);\n      }\n    };\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-xl font-bold mb-4 text-blue-800\",\n      children: \"\\uD83E\\uDDE0 Class Social Graph\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"600px\",\n        background: \"#fff\"\n      },\n      children: /*#__PURE__*/_jsxDEV(ForceGraph2D, {\n        graphData: graphData,\n        nodeLabel: node => `${node.id}\\nClass: ${node.group}\\nAcademic: ${node.academic}\\nWellbeing: ${node.wellbeing}`,\n        nodeAutoColorBy: \"group\",\n        linkColor: link => link.type === \"disrespect\" ? \"red\" : \"green\",\n        linkDirectionalArrowLength: 4,\n        linkDirectionalArrowRelPos: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(Allocation, \"MyXi+7KYRiDYxOAKIwb1MBRPXpI=\");\n_c = Allocation;\nexport default Allocation;\nvar _c;\n$RefreshReg$(_c, \"Allocation\");","map":{"version":3,"names":["useEffect","useState","ForceGraph2D","jsxDEV","_jsxDEV","Allocation","_s","graphData","setGraphData","nodes","links","fetchData","res","fetch","students","json","map","s","id","name","group","studentClass","academic","wellbeing","nodeIds","Set","n","forEach","from","friends","split","f","target","trim","has","push","source","type","disrespectful","d","err","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","height","background","nodeLabel","node","nodeAutoColorBy","linkColor","link","linkDirectionalArrowLength","linkDirectionalArrowRelPos","_c","$RefreshReg$"],"sources":["C:/Users/draza/classforge/classforge-frontend/src/pages/Allocation.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport ForceGraph2D from \"react-force-graph-2d\";\r\n\r\nconst Allocation = () => {\r\n  const [graphData, setGraphData] = useState({ nodes: [], links: [] });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await fetch(\"http://localhost:8000/students\");\r\n        const students = await res.json();\r\n\r\n        const nodes = students.map((s) => ({\r\n          id: s.name,\r\n          group: s.studentClass,\r\n          academic: s.academic,\r\n          wellbeing: s.wellbeing,\r\n        }));\r\n\r\n        const nodeIds = new Set(nodes.map((n) => n.id));\r\n        const links = [];\r\n\r\n        students.forEach((s) => {\r\n          const from = s.name;\r\n\r\n          if (s.friends) {\r\n            s.friends.split(\",\").forEach((f) => {\r\n              const target = f.trim();\r\n              if (nodeIds.has(target)) {\r\n                links.push({ source: from, target, type: \"friend\" });\r\n              }\r\n            });\r\n          }\r\n\r\n          if (s.disrespectful) {\r\n            s.disrespectful.split(\",\").forEach((d) => {\r\n              const target = d.trim();\r\n              if (nodeIds.has(target)) {\r\n                links.push({ source: from, target, type: \"disrespect\" });\r\n              }\r\n            });\r\n          }\r\n        });\r\n\r\n        setGraphData({ nodes, links });\r\n      } catch (err) {\r\n        console.error(\"Failed to load graph data:\", err);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-xl font-bold mb-4 text-blue-800\">ðŸ§  Class Social Graph</h1>\r\n      <div style={{ height: \"600px\", background: \"#fff\" }}>\r\n        <ForceGraph2D\r\n          graphData={graphData}\r\n          nodeLabel={(node) =>\r\n            `${node.id}\\nClass: ${node.group}\\nAcademic: ${node.academic}\\nWellbeing: ${node.wellbeing}`\r\n          }\r\n          nodeAutoColorBy=\"group\"\r\n          linkColor={(link) => (link.type === \"disrespect\" ? \"red\" : \"green\")}\r\n          linkDirectionalArrowLength={4}\r\n          linkDirectionalArrowRelPos={1}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Allocation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}