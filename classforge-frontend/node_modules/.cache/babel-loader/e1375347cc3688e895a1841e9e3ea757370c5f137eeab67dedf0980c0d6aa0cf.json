{"ast":null,"code":"import { ColladaLoader } from 'three/addons/loaders/ColladaLoader.js';\nTHREE.ColladaLoader = ColladaLoader;\n\n/**\n * collada-model-legacy\n *\n * Loader for COLLADA (.dae) format.\n */\nAFRAME.registerComponent('collada-model-legacy', {\n  schema: {\n    type: 'asset'\n  },\n  init: function () {\n    this.model = null;\n    this.loader = new THREE.ColladaLoader();\n  },\n  update: function () {\n    var self = this;\n    var el = this.el;\n    var src = this.data;\n    var rendererSystem = this.el.sceneEl.systems.renderer;\n    if (!src) {\n      return;\n    }\n    this.remove();\n    this.loader.load(src, function (colladaModel) {\n      self.model = colladaModel.scene;\n      self.model.traverse(function (object) {\n        if (object.isMesh) {\n          var material = object.material;\n          if (material.color) rendererSystem.applyColorCorrection(material.color);\n          if (material.map) rendererSystem.applyColorCorrection(material.map);\n          if (material.emissive) rendererSystem.applyColorCorrection(material.emissive);\n          if (material.emissiveMap) rendererSystem.applyColorCorrection(material.emissiveMap);\n        }\n      });\n      el.setObject3D('mesh', self.model);\n      el.emit('model-loaded', {\n        format: 'collada',\n        model: self.model\n      });\n    });\n  },\n  remove: function () {\n    if (!this.model) {\n      return;\n    }\n    this.el.removeObject3D('mesh');\n  }\n});","map":{"version":3,"names":["ColladaLoader","THREE","AFRAME","registerComponent","schema","type","init","model","loader","update","self","el","src","data","rendererSystem","sceneEl","systems","renderer","remove","load","colladaModel","scene","traverse","object","isMesh","material","color","applyColorCorrection","map","emissive","emissiveMap","setObject3D","emit","format","removeObject3D"],"sources":["C:/Users/draza/classforge/classforge-frontend/node_modules/aframe-extras/src/loaders/collada-model-legacy.js"],"sourcesContent":["import { ColladaLoader } from 'three/addons/loaders/ColladaLoader.js';\nTHREE.ColladaLoader = ColladaLoader;\n\n/**\n * collada-model-legacy\n *\n * Loader for COLLADA (.dae) format.\n */\nAFRAME.registerComponent('collada-model-legacy', {\n  schema: {type: 'asset'},\n\n  init: function () {\n    this.model = null;\n    this.loader = new THREE.ColladaLoader();\n  },\n\n  update: function () {\n    var self = this;\n    var el = this.el;\n    var src = this.data;\n    var rendererSystem = this.el.sceneEl.systems.renderer;\n\n    if (!src) { return; }\n\n    this.remove();\n\n    this.loader.load(src, function (colladaModel) {\n      self.model = colladaModel.scene;\n      self.model.traverse(function (object) {\n        if (object.isMesh) {\n          var material = object.material;\n          if (material.color) rendererSystem.applyColorCorrection(material.color);\n          if (material.map) rendererSystem.applyColorCorrection(material.map);\n          if (material.emissive) rendererSystem.applyColorCorrection(material.emissive);\n          if (material.emissiveMap) rendererSystem.applyColorCorrection(material.emissiveMap);\n        }\n      });\n      el.setObject3D('mesh', self.model);\n      el.emit('model-loaded', {format: 'collada', model: self.model});\n    });\n  },\n\n  remove: function () {\n    if (!this.model) { return; }\n    this.el.removeObject3D('mesh');\n  }\n});\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,uCAAuC;AACrEC,KAAK,CAACD,aAAa,GAAGA,aAAa;;AAEnC;AACA;AACA;AACA;AACA;AACAE,MAAM,CAACC,iBAAiB,CAAC,sBAAsB,EAAE;EAC/CC,MAAM,EAAE;IAACC,IAAI,EAAE;EAAO,CAAC;EAEvBC,IAAI,EAAE,SAAAA,CAAA,EAAY;IAChB,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,MAAM,GAAG,IAAIP,KAAK,CAACD,aAAa,CAAC,CAAC;EACzC,CAAC;EAEDS,MAAM,EAAE,SAAAA,CAAA,EAAY;IAClB,IAAIC,IAAI,GAAG,IAAI;IACf,IAAIC,EAAE,GAAG,IAAI,CAACA,EAAE;IAChB,IAAIC,GAAG,GAAG,IAAI,CAACC,IAAI;IACnB,IAAIC,cAAc,GAAG,IAAI,CAACH,EAAE,CAACI,OAAO,CAACC,OAAO,CAACC,QAAQ;IAErD,IAAI,CAACL,GAAG,EAAE;MAAE;IAAQ;IAEpB,IAAI,CAACM,MAAM,CAAC,CAAC;IAEb,IAAI,CAACV,MAAM,CAACW,IAAI,CAACP,GAAG,EAAE,UAAUQ,YAAY,EAAE;MAC5CV,IAAI,CAACH,KAAK,GAAGa,YAAY,CAACC,KAAK;MAC/BX,IAAI,CAACH,KAAK,CAACe,QAAQ,CAAC,UAAUC,MAAM,EAAE;QACpC,IAAIA,MAAM,CAACC,MAAM,EAAE;UACjB,IAAIC,QAAQ,GAAGF,MAAM,CAACE,QAAQ;UAC9B,IAAIA,QAAQ,CAACC,KAAK,EAAEZ,cAAc,CAACa,oBAAoB,CAACF,QAAQ,CAACC,KAAK,CAAC;UACvE,IAAID,QAAQ,CAACG,GAAG,EAAEd,cAAc,CAACa,oBAAoB,CAACF,QAAQ,CAACG,GAAG,CAAC;UACnE,IAAIH,QAAQ,CAACI,QAAQ,EAAEf,cAAc,CAACa,oBAAoB,CAACF,QAAQ,CAACI,QAAQ,CAAC;UAC7E,IAAIJ,QAAQ,CAACK,WAAW,EAAEhB,cAAc,CAACa,oBAAoB,CAACF,QAAQ,CAACK,WAAW,CAAC;QACrF;MACF,CAAC,CAAC;MACFnB,EAAE,CAACoB,WAAW,CAAC,MAAM,EAAErB,IAAI,CAACH,KAAK,CAAC;MAClCI,EAAE,CAACqB,IAAI,CAAC,cAAc,EAAE;QAACC,MAAM,EAAE,SAAS;QAAE1B,KAAK,EAAEG,IAAI,CAACH;MAAK,CAAC,CAAC;IACjE,CAAC,CAAC;EACJ,CAAC;EAEDW,MAAM,EAAE,SAAAA,CAAA,EAAY;IAClB,IAAI,CAAC,IAAI,CAACX,KAAK,EAAE;MAAE;IAAQ;IAC3B,IAAI,CAACI,EAAE,CAACuB,cAAc,CAAC,MAAM,CAAC;EAChC;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}